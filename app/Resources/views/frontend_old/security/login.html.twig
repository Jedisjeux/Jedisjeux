{% extends 'layout/minimal.html.twig' %}

{% block container %}
    <div class="alert alert-warning">
        <strong>Attention !</strong>
        Les mots de passe ont été réinitialisés. Si vous étiez inscrit sur l'ancien site,
        merci d'effectuer une <a href="{{ path('sylius_user_request_password_reset_token') }}"><strong>demande de mot de passe oublié</strong></a>.
    </div>
{% endblock container %}

{% block card_container_content %}

    {% if error %}
        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}


    <!-- <img class="profile-img-card" src="//lh3.googleusercontent.com/-6V8xOA6M7BA/AAAAAAAAAAI/AAAAAAAAAAA/rzlHcD0KYwo/photo.jpg?sz=120" alt="" /> -->
    <img id="profile-img" class="profile-img-card" src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"/>

    <p id="profile-name" class="profile-name-card"></p>

    <form action="{{ path("sylius_frontend_login_check") }}"
          novalidate
          class="form-signin"
          method="post">

        <div class="row">
            <div class="col-md-12">
                {{ form_errors(form) }}
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                {{ form_widget(form._username, {attr: {'placeholder': 'app.ui.username_or_email'}}) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">

                {{ form_widget(form._password, {attr: {'placeholder': 'sylius.form.login.password'}}) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <p class="security-links">
                    <a class="forgot-password" href="{{ path('sylius_user_request_password_reset_token') }}">Mot de
                        passe oublié ?</a>
                </p>
            </div>
        </div>

        <div id="remember" class="checkbox">
            <label>
                <input type="checkbox" id="remember_me" name="_remember_me"
                       value="on"> {{ 'sylius.form.login.remember_me'|trans }}
            </label>
        </div>

        <input type="hidden" name="_csrf_shop_security_token" value="{{ csrf_token('shop_authenticate') }}">
        {{ form_rest(form, {'render_rest': false}) }}

        <button class="btn btn-lg btn-primary btn-block btn-signin"
                type="submit"
                id="_submit"
                name="_submit">
            {{ 'label.connection'|trans }}
        </button>

    </form>

    <p class="text-center">ou</p>

    <!-- /form -->
    <a class="btn btn-lg btn-block btn-primary" href="{{ path('app_frontend_register') }}">
        Créer un compte
    </a>
{% endblock card_container_content %}