{% extends 'base.html.twig' %}
{% from 'macros/misc.html.twig' import pagination %}
{% from 'macros/sorting.html.twig' import sorting %}
{% from 'macros/items.html.twig' import blockquoteOne %}

{% block headline %}
    Jeux
{% endblock %}

{% block subtitle %}
    ayant pour {{ taxon.root }} : {{ taxon }}
{% endblock %}

{% block breadcrumb_content %}
    {{ parent() }}
    <a href="{{ path('sylius_frontend_product_index') }}">Jeux</a> /
    {{ taxon }}
{% endblock %}

{% block body -%}

    {% if taxon.description %}
        {{ blockquoteOne(taxon.description) }}
    {% endif %}

    {% include 'frontend/grid/_filters.html.twig' %}
    <div class="col-md-9">
        <div class="container">



            <div class="pull-right sorting">
                {% set sorting = app.request.get('sorting') %}

                {% set icon = false %}
                {% set currentOrder = null %}

                {% if null == sorting %}
                    {% set icon = true %}
                    {% set currentOrder = 'desc' %}
                {% endif %}

                Trier
                par {{ sorting('sylius_frontend_product_index_by_taxon', 'label.created_at'|trans, 'createdAt', 'desc', icon, currentOrder, {'slug': taxon.slug}) }}
                ,
                par {{ sorting('sylius_frontend_product_index_by_taxon', 'label.rate'|trans, 'averageRating', 'desc', null, null, {'slug': taxon.slug}) }}
            </div>

            {% include "frontend/game/index/list-4.html.twig" with {'products': products.data} %}

            <div class="pagination-wrapper">
                <div class="pagination-bottom">
                    {{ pagination(products.data) }}
                </div>
            </div>

        </div>

    </div>

    <div class="col-md-3">
        {% include 'frontend/game/_sidebar.html.twig' %}
    </div>
{% endblock %}