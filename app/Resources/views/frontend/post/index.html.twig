{% extends "base.html.twig" %}
{% from 'macros/misc.html.twig' import pagination %}
{% from 'macros/posts.html.twig' import blogCommentItem %}
{% import 'macros/buttons.html.twig' as button %}

{# assume that topic has one post at least #}
{% set topic = posts.currentPageResults[0].topic %}

{% block headline %}
    {{ topic }}
{% endblock %}

{% block breadcrumb_content %}
    {{ parent() }}
    <a href="{{ path('app_topic_index') }}">Forum</a> /
    {{ topic }}
{% endblock %}

{% block body -%}
    <div class="container">

        <div class="pull-right">
            {# TODO post reply #}
            {{ button.btn(path('app_post_create_by_topic', {'topicId' : topic.id}), 'RÃ©pondre au sujet', null, 'plus-sign', 'btn-color') }}
        </div>
        <div class="clearfix"></div>

        <div class="blog-comments">
            {% for post in posts %}
                {{ blogCommentItem(post) }}
            {% endfor %}
        </div>

        {% block Pagination %}
            {{ pagination(posts) }}
        {% endblock %}
    </div>
{% endblock %}