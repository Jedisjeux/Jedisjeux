{% from "JDJJeuBundle:Jeu:macros.html.twig" import joueurCount %}

{% set jeuHref = path('jeu_show', {'id': jeu.id, 'slug': jeu.slug}) %}


<div class="col-md-12 col-sm-6">

    <div class="block-heading-two text-center">
        <h3><a href="{{ jeuHref }}"><span>{{ jeu.libelle }}</span></a></h3>
    </div>
    <div class="img-box-5-item">
        <div class="row">
            <div class="col-md-2">
                <!-- Image Box #5 Image -->
                <div class="img-box-5-img">
                    <!-- Image -->
                    {% if jeu.mainImage %}
                        <a href="{{ jeuHref }}"><img src="{{ jeu.mainImage.webPath | imagine_filter('default') }}"
                                                 alt="" class="img-responsive img-thumbnail"/></a>
                    {% endif %}

                </div>
            </div>
            <div class="col-md-2">
                <!-- Image Box #5 Content -->
                <div class="img-box-5-content">

                    <div class="row">
                        <ul class="list-6">
                            {% if jeu.auteurs|length > 0 %}
                                <li>
                                    Un jeu de
                                    {% for key, personne in jeu.auteurs %}{% if (key > 0) %},{% endif %} <a
                                        href="{{ path('personne_show', { 'id': personne.id, 'slug': personne.slug }) }}">{{ personne }}</a>{% endfor %}
                                </li>
                            {% endif %}
                            {% if jeu.illustrateurs|length > 0 %}
                                <li>
                                    illustré{% if jeu.illustrateurs|length > 1 %}s{% endif %} par
                                    {% for key, personne in jeu.illustrateurs %}{% if (key > 0) %},{% endif %} <a
                                        href="{{ path('personne_show', { 'id': personne.id, 'slug': personne.slug }) }}">{{ personne }}</a>{% endfor %}
                                </li>
                            {% endif %}
                            {% if jeu.editeurs|length > 0 %}
                                <li>
                                    édité{% if jeu.editeurs|length > 1 %}s{% endif %} par
                                    {% for key, personne in jeu.editeurs %}{% if (key > 0) %},{% endif %} <a
                                        href="{{ path('personne_show', { 'id': personne.id, 'slug': personne.slug }) }}">{{ personne }}</a>{% endfor %}
                                </li>
                            {% endif %}
                        </ul>

                    </div>
                    <div class="row">
                        <ul class="list-6">
                            {% if jeu.minAge %}
                                <li>à partir de {{ jeu.minAge }} ans</li>
                            {% endif %}

                            {% if jeu.minPlayerCount or jeu.maxPlayerCount %}
                                <li>{{ joueurCount(jeu) }}</li>
                            {% endif %}

                            {% if jeu.cible %}
                                <li>Public : <a
                                            href="{{ path('cible_show', { 'id': jeu.cible.id, 'slug': jeu.cible.slug }) }}">{{ jeu.cible }}</a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>

                    <div class="row">
                        <ul class="list-6">

                            {% if jeu.mechanisms|length > 0 %}
                                <li>Mécanismes
                                    : {% for key, mechanism in jeu.mechanisms %}{% if (key > 0) %},{% endif %}
                                        <a
                                        href="{{ path('mechanism_show', { 'id': mechanism.id, 'slug': mechanism.slug }) }}">{{ mechanism }}</a>{% endfor %}
                                </li>
                            {% endif %}

                            {% if jeu.themes|length > 0 %}
                                <li>Thèmes : {% for key, theme in jeu.themes %}{% if (key > 0) %},{% endif %} <a
                                        href="{{ path('theme_show', { 'id': theme.id, 'slug': theme.slug }) }}">{{ theme }}</a>{% endfor %}
                                </li>
                            {% endif %}

                        </ul>
                    </div>
                    </div>


            </div>
            <div class="col-md-8">
                <div class="description">
                    {% set gameDesc = jeu.description |striptags | truncate(700, true) %}

                    {{ gameDesc | raw}}

                </div>
            </div>
        </div>
    </div>
</div>
<hr>