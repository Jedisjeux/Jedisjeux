{% extends 'base.html.twig' %}
{% from 'macros/misc.html.twig' import pagination %}
{% from 'macros/sorting.html.twig' import sorting %}

{% set pageTitle = 'sylius.ui.products'|trans %}

{% block subtitle %}
    {% if taxon is defined %}
        ayant pour {{ taxon.taxonomy }} : {{ taxon }}
    {% endif %}
{% endblock %}

{% block breadcrumb_content %}
    {{ parent() }}
    Jeux /
{% endblock %}

{% block body -%}
    <div class="col-md-9">

        <div class="container">

            <div class="pull-right sorting">
                {% set sorting = app.request.get('sorting') %}

                {% set icon = false %}
                {% set currentOrder = null %}

                {% if null == sorting %}
                    {% set icon = true %}
                    {% set currentOrder = 'desc' %}
                {% endif %}

                Trier
                par {{ sorting('sylius_frontend_product_index', 'sylius.ui.creation_date'|trans, 'createdAt', 'desc', icon, currentOrder) }},
                par {{ sorting('sylius_frontend_product_index', 'label.rate'|trans, 'averageRating', 'desc') }}
            </div>

            <div class="clearfix"></div>

            {% include "frontend/game/index/list-4.html.twig" with {'products': products.data} %}


            <div class="pagination-wrapper">
                <div class="pagination-bottom">
                    {{ pagination(products.data) }}
                </div>
            </div>

        </div>

    </div>

    <div class="col-md-3">
        {% include 'frontend/game/_sidebar.html.twig' %}
    </div>
{% endblock %}