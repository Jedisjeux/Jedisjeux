{% from 'backend/macros/sorting.html.twig' import sorting %}
{% import 'SyliusUiBundle:Macro:buttons.html.twig' as button %}
{% from 'macros/images.html.twig' import image %}

{% set defaultSorting = app.request.get('sorting') ? false : true %}
{% set defaultOrder = 'desc' %}
{% set currentOrder = defaultSorting ? defaultOrder : app.request.get('sorting') %}

<table class="ui celled table">
    <thead>
    <tr>
        <th>{{ sorting('app_backend_contact_request_index', 'sylius.ui.created_at'|trans, 'createdAt', 'asc', true, currentOrder) }}</th>
        <th>{{ sorting('app_backend_contact_request_index', 'sylius.ui.name'|trans, 'lastName', 'asc', true) }}</th>
        <th>{{ sorting('app_backend_contact_request_index', 'sylius.ui.email'|trans, 'email', 'asc', true) }}</th>
        <th>{{ 'sylius.ui.actions'|trans }}</th>
    </tr>
    </thead>
    <tbody>
    {% for contact_request in contact_requests %}
        <tr>
            <td>{{ contact_request.createdAt|localizeddate('medium', 'none') }}</td>
            <td>{{ contact_request.fullName }}</td>
            <td>{{ contact_request.email }}</td>
            <td>
                <div class="ui buttons">
                    {{ button.show(path('app_backend_contact_request_show', { 'id': contact_request.id } ), 'app.ui.view_details') }}
                    {{ button.delete(path('app_backend_contact_request_delete', { 'id': contact_request.id } )) }}
                </div>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>