fos_elastica:
    clients:
        default: { host: %fos_elastica.host%, port: %fos_elastica.port% }
    indexes:
        jedisjeux:
          finder: ~
          settings:
              index:
                  analysis:
                      analyzer:
                          custom_analyzer:
                              type: custom
                              tokenizer: standard
                              filter   : [standard, lowercase, asciifolding, custom_filter]
                          custom_search_analyzer:
                              type: custom
                              tokenizer: standard
                              filter   : [standard, lowercase, asciifolding]
                      filter:
                          custom_filter:
                              type: edgeNGram
                              side: front
                              min_gram: 1
                              max_gram: 20

          mappings:
              article:
                  properties:
                      title: { search_analyzer: custom_search_analyzer, analyzer: custom_analyzer, type: text }
                      status: ~
                  persistence:
                      driver: orm
                      model: AppBundle\Entity\Article
                      provider: ~
                      finder: ~
              user:
                  properties:
                      username: { search_analyzer: custom_search_analyzer, analyzer: custom_analyzer, type: text }
                  persistence:
                      driver: orm
                      model: %sylius.model.app_user.class%
                      provider: ~
                      finder: ~
              product:
                  properties:
                      name: ~
                      slug: { search_analyzer: custom_search_analyzer, analyzer: custom_analyzer, type: text }
                      status: ~
                      variants: ~
                  persistence:
                      driver: orm
                      model: %sylius.model.product.class%
                      provider: ~
                      finder: ~
              person:
                  properties:
                      firstName: ~
                      lastName: ~
                      slug: { search_analyzer: custom_search_analyzer, analyzer: custom_analyzer, type: text }
                  persistence:
                      driver: orm
                      model: AppBundle\Entity\Person
                      provider: ~
                      finder: ~
              taxon:
                  properties:
                      name: ~
                      slug: { search_analyzer: custom_search_analyzer, analyzer: custom_analyzer, type: text }
                  persistence:
                      driver: orm
                      model: AppBundle\Entity\Taxon
                      provider: ~
                      finder: ~
              topic:
                  properties:
                      title: { search_analyzer: custom_search_analyzer, analyzer: custom_analyzer, type: text }
                  persistence:
                      driver: orm
                      model: AppBundle\Entity\Topic
                      provider: ~
                      finder: ~
