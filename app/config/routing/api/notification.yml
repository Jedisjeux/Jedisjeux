app_api_notification_read:
    methods: [PATCH]
    path: /notifications/{id}
    defaults:
        _controller: app.controller.notification:readAction
        _sylius:
            repository:
                method: findOneBy
                arguments:
                  - id: $id
                  - recipient: expr:service('sylius.context.customer').getCustomer().getId()

app_api_notification_index:
    methods: [GET]
    path: /notifications/
    defaults:
        _controller: app.controller.notification:indexAction
        _sylius:
            paginate: false
            repository:
                method: findBy
                arguments:
                  - recipient: expr:service('sylius.context.customer').getCustomer().getId()
                  - read: 0
            sortable: true
            sorting:
                createdAt: desc