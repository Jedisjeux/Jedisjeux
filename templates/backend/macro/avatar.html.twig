{% macro getPath(resource) %}{% spaceless %}
    {% set imageSrc = resource.avatar ? resource.avatar.webPath : '/assets/frontend/images/avatar-placeholder.png' %}

    {{ imageSrc }}
{% endspaceless %}{% endmacro %}

{% macro render(resource, filter, label, class) %}{% spaceless %}
    {% import _self as avatar %}
    {% from 'macro/image.html.twig' import images %}

    {{ images.render(avatar.getPath(resource), filter, resource, class) }}
{% endspaceless %}{% endmacro %}