# src/JDJ/UserBundle/Resources/config/doctrine/User.orm.yml
JDJ\UserBundle\Entity\User:
    type:  entity
    repositoryClass: JDJ\UserBundle\Repository\UserRepository
    table: fos_user
    gedmo:
        soft_deleteable:
          field_name: deletedAt
          time_aware: false
    id:
      id:
        type: integer
        generator:
          strategy: AUTO
    fields:
      nom:
        type: string
        nullable: true
        length: 50
      prenom:
        type: string
        nullable: true
        length: 50
      avatar:
        type: string
        nullable: true
        length: 100
      presentation:
        type: text
        nullable: true
      slug:
        type: string
        length: 128
        gedmo:
          slug:
            separator: -
            style: default
            fields:
              - username
      dateNaissance:
        type: datetime
        nullable: true
      created:
        type: datetime
        gedmo:
          timestampable:
            on: create
      updated:
        type: datetime
        gedmo:
          timestampable:
            on: update
      deletedAt:
            type: date
            nullable: true
    oneToMany:
        asAuthorParties:
          targetEntity: JDJ\PartieBundle\Entity\Partie
          mappedBy: author
    manyToMany:
        parties:
          targetEntity: JDJ\PartieBundle\Entity\Partie
          mappedBy: users
          cascade: ["persist"]