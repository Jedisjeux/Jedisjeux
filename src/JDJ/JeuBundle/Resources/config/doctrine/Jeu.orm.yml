JDJ\JeuBundle\Entity\Jeu:
  type: entity
  repositoryClass: JDJ\JeuBundle\Entity\JeuRepository
  table: jdj_jeu
  id:
    id:
      type: integer
      unsigned: true
      generator:
        strategy: IDENTITY
  fields:
    libelle:
      type: string
      nullable: false
      length: 50
    ageMin:
      type: integer
      nullable: true
      unsigned: true
    joueurMin:
      type: integer
      nullable: true
      unsigned: true
    joueurMax:
      type: integer
      nullable: true
      unsigned: true
    intro:
      type: text
      nullable: true
    materiel:
      type: text
      nullable: true
    but:
      type: text
      nullable: true
    description:
      type: text
      nullable: true
    slug:
      type: string
      length: 128
      gedmo:
        slug:
          separator: -
          style: default
          fields:
            - libelle
    imageCouverture:
      type: string
      length: 50
      nullable: true
  indexes:
    search_idx:
      columns: slug

  manyToMany:
    mecanismes:
      targetEntity: Mecanisme
      inversedBy: jeux
      cascade: ["persist", "merge"]
      joinTable:
        name: jdj_mecanisme_jeu
        joinColumns:
          mecanisme_id:
            referencedColumnName: id
        inverseJoinColumns:
          jeu_id:
            referencedColumnName: id
    themes:
      targetEntity: Theme
      inversedBy: jeux
      cascade: ["persist", "merge"]
      inversedBy: jeux
      cascade: ["persist", "merge"]
      joinTable:
        name: jdj_theme_jeu
        joinColumns:
          theme_id:
            referencedColumnName: id
        inverseJoinColumns:
          jeu_id:
            referencedColumnName: id
    auteurs:
      targetEntity: JDJ\LudographieBundle\Entity\Personne
      inversedBy: auteurJeux
      cascade: ["persist", "merge"]
      joinTable:
        name: jdj_auteur_jeu
        joinColumns:
          personne_id:
            referencedColumnName: id
        inverseJoinColumns:
          jeu_id:
            referencedColumnName: id
    illustrateurs:
      targetEntity: JDJ\LudographieBundle\Entity\Personne
      inversedBy: illustrateurJeux
      cascade: ["persist", "merge"]
      joinTable:
        name: jdj_illustrateur_jeu
        joinColumns:
          personne_id:
            referencedColumnName: id
        inverseJoinColumns:
          jeu_id:
            referencedColumnName: id
    editeurs:
      targetEntity: JDJ\LudographieBundle\Entity\Personne
      inversedBy: editeurJeux
      cascade: ["persist", "merge"]
      joinTable:
         name: jdj_editeur_jeu
         joinColumns:
           personne_id:
             referencedColumnName: id
         inverseJoinColumns:
           jeu_id:
             referencedColumnName: id
  oneToMany:
    jeuCaracteristiques:
      targetEntity: JeuCaracteristique
      mappedBy: jeu
    addons:
      targetEntity: Addon
      mappedBy: jeu
    parties:
      targetEntity: JDJ\PartieBundle\Entity\Partie
      mappedBy: jeu
  manyToOne:
    statut:
      targetEntity: JDJ\WebBundle\Entity\Statut
      inversedBy: jeux